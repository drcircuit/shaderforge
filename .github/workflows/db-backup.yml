name: Database Backup

on:
  schedule:
    - cron: '0 2 * * *'   # Every day at 02:00 UTC
  workflow_dispatch:        # Allow manual trigger

jobs:
  backup:
    name: Backup to Azure Blob Storage
    runs-on: [self-hosted, pi]
    permissions: {}

    steps:
      - name: Run backup script
        run: sudo /usr/local/bin/shaderforge-db-backup.sh
